<!DOCTYPE html>
<html lang="en">

<head>
    <script src="/js/common.js"></script>
    <script>document.addEventListener("DOMContentLoaded", () => init("announcements"));</script>
    <style>
        .announcement-card {
            background: white;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            border: none;
            transition: all 0.3s ease;
            cursor: pointer;
            overflow: hidden;
            height: 100%;
            text-decoration: none;
            color: inherit;
        }

        .announcement-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--card-hover-shadow);
            text-decoration: none;
            color: inherit;
        }

        .announcement-card .card-header {
            background: transparent;
            border: none;
            padding: 1.5rem 1.5rem 0;
            position: relative;
        }

        .announcement-card .card-body {
            padding: 1rem 1.5rem 1.5rem;
        }

        .priority-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .priority-high {
            background: var(--warning-gradient);
            color: white;
        }

        .priority-medium {
            background: var(--info-gradient);
            color: white;
        }

        .priority-low {
            background: var(--success-gradient);
            color: white;
        }

        .priority-urgent {
            background: var(--secondary-gradient);
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .announcement-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .icon-general {
            background: var(--primary-gradient);
        }

        .icon-urgent {
            background: var(--secondary-gradient);
        }

        .icon-event {
            background: var(--success-gradient);
        }

        .icon-maintenance {
            background: var(--warning-gradient);
        }

        .icon-info {
            background: var(--info-gradient);
        }

        .announcement-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #2c3e50;
            line-height: 1.4;
        }

        .announcement-excerpt {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .announcement-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #8e9aaf;
            margin-top: auto;
        }

        .announcement-date {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .read-more {
            color: #667eea;
            font-weight: 500;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.3rem;
            transition: all 0.3s ease;
        }

        .read-more:hover {
            color: #764ba2;
            gap: 0.5rem;
        }

        .stats-section {
            background: var(--ocean-gradient);
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            -webkit-background-clip: text;
            color: #FFF;
            background-clip: text;
        }

        .stat-label {
            color: #e6e6dd;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .filter-tabs {
            background: var(--dreamy-gradient);
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            padding: 1rem;
            margin-bottom: 2rem;
        }

        .filter-btn {
            background: transparent;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            color: #6c757d;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 0 0.25rem;
        }

        .filter-btn.active {
            background: var(--primary-gradient);
            color: white;
        }

        .filter-btn:hover:not(.active) {
            background: #f8f9fa;
            color: #2c3e50;
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #6c757d;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        @media (max-width: 768px) {
            .page-header {
                padding: 2rem 0 1rem;
            }

            .stats-section {
                padding: 1.5rem;
            }

        }

        /* Animation for cards */
        .announcement-card {
            opacity: 0;
            transform: translateY(20px);
            animation: slideInUp 0.6s ease forwards;
        }

        .announcement-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .announcement-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .announcement-card:nth-child(3) {
            animation-delay: 0.3s;
        }

        .announcement-card:nth-child(4) {
            animation-delay: 0.4s;
        }

        .announcement-card:nth-child(5) {
            animation-delay: 0.5s;
        }

        .announcement-card:nth-child(6) {
            animation-delay: 0.6s;
        }

        @keyframes slideInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <!-- Topbar Start -->
    <div id="header-container"></div>
    <!-- Topbar End -->

    <!-- Page Header Start -->
    <div id="page-header-container"></div>
    <!-- Page Header End -->

    <div class="container mt-5 mb-5">
        <!-- Statistics Section -->
        <div class="stats-section">
            <div class="row" id="stats-container">
                <!-- Stats will be dynamically generated -->
            </div>
        </div>

        <!-- Filter Tabs -->
        <div class="filter-tabs">
            <div class="d-flex flex-wrap justify-content-center" id="filter-container">
                <!-- Filter buttons will be dynamically generated -->
            </div>
        </div>

        <!-- Announcements Grid -->
        <div class="row g-4" id="announcements-grid">
            <!-- Announcement cards will be dynamically generated -->
        </div>

        <!-- Empty State -->
        <div class="empty-state d-none" id="empty-state">
            <i class="bi bi-inbox"></i>
            <h4>No announcements found</h4>
            <p>Try adjusting your filter or check back later for updates.</p>
        </div>
    </div>
    <script>
        // Announcements data
        const announcementsData = [
            {
                id: 'walkathon',
                title: 'Walkathon',
                excerpt: 'സെപ്റ്റംബർ 20, 21 തീയതികളിൽ എറണാകുളത്ത് വെച്ച് നടക്കുന്ന അൻപത്തിയേഴാമത്‌ ദേശീയ സമ്മേളനത്തിന്റെ (പുഷ്പകായനം 2025, പുതുവഴികളിലൂടെ) പ്രചരണത്തിന്റെ ഭാഗമായി ശ്രീ പുഷ്പകബ്രാഹ്മണ സേവാ സംഘം എറണാകുളം വനിതാ വേദി നടത്തിയ വാക്കത്തോൺ 2025, 25/05/25 ന് തൃപ്പൂണിത്തുറയിൽ വെച്ച് നടന്നു.',
                date: 'May 25, 2025',
                priority: 'high',
                category: 'events',
                icon: 'bi-person-hearts',
                iconType: 'event',
                link: '/main/content/announcements/walkathon.html'
            },
            {
                id: 'logo-launch',
                title: 'ലോഗോ പ്രകാശനം',
                excerpt: 'മലപ്പുറം പോരൂരിൽ നടക്കുന്ന Pushpaka Champions Leagugue - 1 ന്റെ കലാസന്ധ്യയുമായി അനുബന്ധിച്ച് നടന്ന ചടങ്ങിൽ വച്ച് പുഷ്പകായനം 2025 ന്റെ ലോഗോ പ്രകാശനം, കേന്ദ്ര പ്രസിഡണ്ട് ശ്രീ എൽ.പി.വിശ്വനാഥൻ അവർകൾ നിർവഹിക്കുന്നു.',
                date: 'May 10, 2025',
                priority: 'urgent',
                category: 'general',
                icon: 'bi-badge-tm',
                iconType: 'general',
                link: '/main/content/announcements/logo.html'
            },
            {
                id: 'vishu-contest',
                title: 'വിഷു ഫോട്ടോഗ്രാഫി മത്സരം',
                excerpt: 'വിഷുവിനെ മനോഹര സങ്കൽപ്പമാക്കി പുഷ്പകായനം 2025 നടത്തിയ ഫോട്ടോഗ്രാഫി മത്സരം വൻ വിജയമായിരുന്നു. സമുദായത്തിന്റെ വിവിധ ഭാഗങ്ങളിൽ ഉള്ള ധാരാളം പേർ മത്സരത്തിൽ പങ്കെടുത്തു.',
                date: 'May 14, 2025',
                priority: 'high',
                category: 'contests',
                icon: 'bi-camera',
                iconType: 'event',
                link: '/main/content/announcements/vishu-contest.html'
            },
            {
                id: 'welcome-committee',
                title: 'സ്വാഗതസംഘ രൂപീകരണം',
                excerpt: 'ശ്രീ പുഷ്പകബ്രാഹ്മണ സേവാ സംഘത്തിന്റെ 57-ാം ദേശീയ സമ്മേളന സ്വാഗതസംഘം രൂപീകരിച്ചു. സെപ്റ്റംബർ 20, 21 തിയതികളിൽ തൃപ്പൂണിത്തുറ ശ്രീപൂർണ്ണ ഓഡിറ്റോറിയത്തിലാണ് സമ്മേളനം. സ്വാഗതസംഘം രൂപീകരണയോഗം കേന്ദ്ര പ്രസിഡന്റ് എൽ.പി. വിശ്വനാഥൻ ഉദ്ഘാടനം ചെയ്തു. ജില്ലാ പ്രസിഡന്റ് ആർ.എസ്. നമ്പ്യാർ അദ്ധ്യക്ഷത വഹിച്ചു. ജനറൽ സെക്രട്ടറി ടി. ആർ. ഹരിനാരായണൻ, സെക്രട്ടറി കെ.എൻ. കൃഷ്ണൻ നമ്പിശ്ശൻ, മേഖലാ സെക്രട്ടറി പി.എസ്. രാജൻ തുടങ്ങിയവർ സംസാരിച്ചു.',
                date: 'February 23, 2025',
                priority: 'medium',
                category: 'general',
                icon: 'bi-people',
                iconType: 'general',
                link: '/main/content/announcements/orgcom.html'
            },
            {
                id: 'reels-contest',
                title: 'റീൽസ് മത്സരം',
                excerpt: '57-ാം ദേശീയ സമ്മേളനത്തോടനുബന്ധിച്ച് നടത്തിയ റീൽസ് മത്സരത്തിലെ വിജയികളെ പ്രഖ്യാപിച്ചു. മത്സരത്തിലെ ഒന്നാം സമ്മാന വിജയി തളിപ്പറമ്പ പ്രാദേശിക സഭയിലെ പ്രസാദ് അരയാലയാണ്.',
                date: 'March 1, 2025',
                priority: 'high',
                category: 'contests',
                icon: 'bi-camera-reels',
                iconType: 'event',
                link: '/main/content/announcements/reels-contest.html'
            },
            {
                id: 'naming-contest',
                title: 'നാമനിർദ്ദേശ മത്സരം',
                excerpt: 'ശ്രീ പുഷ്പകബ്രാഹ്മണ സേവാ സംഘത്തിന്റെ 57-ാം ദേശീയ സമ്മേളനത്തോടനുബന്ധിച്ച് നടത്തിയ നാമനിർദ്ദേശ മത്സരത്തിൽ ലഭിച്ച 400 ഓളം പേരുകളിൽ നിന്നും സമ്മേളനത്തിനായി തിരഞ്ഞെടുക്കപ്പെട്ട പേര് പ്രഖ്യാപിച്ചു.',
                date: 'March 18, 2025',
                priority: 'medium',
                category: 'contests',
                icon: 'bi-pencil-square',
                iconType: 'event',
                link: '/main/content/announcements/naming-contest.html'
            }
        ];

        // Filter configuration
        const filters = [
            { id: 'all', label: 'All', icon: 'bi-grid' },
            { id: 'urgent', label: 'Urgent', icon: 'bi-exclamation-triangle' },
            { id: 'contests', label: 'Contests', icon: 'bi-trophy' },
            { id: 'events', label: 'Events', icon: 'bi-calendar-event' },
            { id: 'general', label: 'General', icon: 'bi-info-circle' }
        ];

        // Generate announcement card HTML
        function createAnnouncementCard(announcement, index) {
            return `
                <div class="col-xl-4 col-md-6" data-category="${announcement.category}" data-priority="${announcement.priority}">
                    <a href="${announcement.link}" class="announcement-card d-block h-100" style="animation-delay: ${(index + 1) * 0.1}s">
                        <div class="card-header">
                            <div class="priority-badge priority-${announcement.priority}">${announcement.priority.charAt(0).toUpperCase() + announcement.priority.slice(1)}</div>
                            <div class="announcement-icon icon-${announcement.iconType}">
                                <i class="${announcement.icon}"></i>
                            </div>
                            <h3 class="announcement-title">${announcement.title}</h3>
                        </div>
                        <div class="card-body">
                            <p class="announcement-excerpt">${announcement.excerpt}</p>
                            <div class="announcement-meta">
                                <div class="announcement-date">
                                    <i class="bi bi-calendar3"></i>
                                    <span>${announcement.date}</span>
                                </div>
                                <div class="read-more">
                                    Read More <i class="bi bi-arrow-right"></i>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            `;
        }

        // Generate filter button HTML
        function createFilterButton(filter, isActive = false) {
            return `
                <button class="filter-btn ${isActive ? 'active' : ''}" data-filter="${filter.id}">
                    <i class="${filter.icon} me-1"></i>${filter.label}
                </button>
            `;
        }

        // Calculate and generate stats
        function generateStats() {
            const totalAnnouncements = announcementsData.length;
            const urgentCount = announcementsData.filter(a => a.priority === 'urgent').length;
            const contestsCount = announcementsData.filter(a => a.category === 'contests').length;
            const eventsCount = announcementsData.filter(a => a.category === 'events').length;
            const activeCount = totalAnnouncements; // Assuming all are active

            const stats = [
                { number: totalAnnouncements, label: 'Total Announcements' },
                { number: urgentCount, label: 'Urgent' },
                { number: contestsCount, label: 'Contests' },
                { number: eventsCount, label: 'Events' }
            ];

            return stats.map(stat => `
                <div class="col-md-3 col-6">
                    <div class="stat-item">
                        <div class="stat-number">${stat.number}</div>
                        <div class="stat-label">${stat.label}</div>
                    </div>
                </div>
            `).join('');
        }

        // Initialize the page
        function initializePage() {
            // Generate and insert announcements
            const announcementsHTML = announcementsData.map((announcement, index) =>
                createAnnouncementCard(announcement, index)
            ).join('');
            document.getElementById('announcements-grid').innerHTML = announcementsHTML;

            // Generate and insert filter buttons
            const filtersHTML = filters.map((filter, index) =>
                createFilterButton(filter, index === 0)
            ).join('');
            document.getElementById('filter-container').innerHTML = filtersHTML;

            // Generate and insert stats
            document.getElementById('stats-container').innerHTML = generateStats();

            // Initialize filter functionality
            initializeFilters();
        }

        // Filter functionality
        function initializeFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            const announcementCards = document.querySelectorAll('[data-category]');
            const emptyState = document.getElementById('empty-state');
            const grid = document.getElementById('announcements-grid');

            filterButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');

                    const filter = this.getAttribute('data-filter');
                    let visibleCount = 0;

                    announcementCards.forEach(card => {
                        let shouldShow = false;

                        if (filter === 'all') {
                            shouldShow = true;
                        } else if (filter === 'urgent') {
                            shouldShow = card.getAttribute('data-priority') === 'urgent';
                        } else if (filter === 'contests') {
                            shouldShow = card.getAttribute('data-category') === 'contests';
                        } else if (filter === 'events') {
                            shouldShow = card.getAttribute('data-category') === 'events';
                        } else if (filter === 'general') {
                            shouldShow = card.getAttribute('data-category') === 'general';
                        }

                        if (shouldShow) {
                            card.style.display = 'block';
                            visibleCount++;
                        } else {
                            card.style.display = 'none';
                        }
                    });

                    // Show/hide empty state
                    if (visibleCount === 0) {
                        emptyState.classList.remove('d-none');
                        grid.classList.add('d-none');
                    } else {
                        emptyState.classList.add('d-none');
                        grid.classList.remove('d-none');
                    }
                });
            });
        }

        // Scroll to top function
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            initializePage();

            // Add click analytics
            document.addEventListener('click', function (e) {
                if (e.target.closest('.announcement-card')) {
                    const card = e.target.closest('.announcement-card');
                    const title = card.querySelector('.announcement-title').textContent;
                    console.log(`Clicked on announcement: ${title}`);
                }
            });
        });
    </script>

    <!-- Footer Start -->
    <div id="footer-container"></div>
    <!-- Footer End -->

</body>

</html>